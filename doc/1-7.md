# 画像閲覧機能の実装手順

## 1. IPCハンドラーの追加 (src/main/ipc.ts)
- フォルダツリー読み取り用のハンドラー追加
  - `read-folder-tree`: 指定パスのフォルダ構造を取得
  - `get-folder-contents`: フォルダ内のファイル一覧取得
  - `read-image-file`: 画像ファイルの読み込み

## 2. Preload APIの更新 (src/main/preload.ts)
- 新しいIPCハンドラーをレンダラープロセスに公開
  - `readFolderTree`
  - `getFolderContents`
  - `readImageFile`

## 3. ExplorePanelの構造変更 (src/renderer/components/Panels/ExplorePanel.tsx)
- サイドバーを上下2分割に変更
  - 上部：FolderTreeコンポーネント（フォルダツリー表示）
  - 下部：FileListコンポーネント（新規作成、ファイル一覧表示）

## 4. FolderTreeコンポーネントの改修 (src/renderer/components/FolderTree/FolderTree.tsx)
- 現在の静的なLibrary表示から実際のフォルダツリー表示に変更
- 折り畳み可能な階層構造の実装
- 三角アイコンでの展開/折り畳み機能
- フォルダ選択時のイベント処理

## 5. FileListコンポーネントの新規作成 (src/renderer/components/FileList/FileList.tsx)
- 選択されたフォルダ内のファイル一覧表示
- 画像ファイルのみフィルタリング
- ファイル選択時のイベント処理

## 6. ImagePreviewコンポーネントの作成 (src/renderer/components/ImagePreview/ImagePreview.tsx)
- 選択された画像のプレビュー表示
- 画像の拡大縮小機能
- 基本的な画像操作（フィット、実サイズ表示など）

## 7. CSSスタイルの更新
- ExplorePanel.css: 上下分割レイアウト
- FolderTree.css: ツリー表示のスタイル
- FileList.css: ファイル一覧のスタイル
- ImagePreview.css: 画像プレビューのスタイル

## 8. 設定との連携
- 初期表示時に設定のダウンロードパスをルートとして使用
- フォルダツリーの初期展開状態の管理