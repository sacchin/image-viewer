# ネットワークフォルダ対応実装計画

## 実装概要
現在のアプリケーションは既にフォルダツリー表示と画像閲覧機能を持っていますが、「Open Folder」メニューアクションが未実装です。ネットワークフォルダ（UNCパスやマップドドライブ）をサポートするための実装を行います。

## 現状分析

### 既存機能
- `FolderTree`コンポーネント: フォルダ階層の表示
- `FileList`コンポーネント: 選択されたフォルダ内の画像ファイル一覧
- `ImagePreview`コンポーネント: 選択された画像のプレビュー
- `readFolderTree` IPC: フォルダツリーの読み込み
- `getFolderContents` IPC: フォルダ内容の取得
- `selectDirectory` IPC: ディレクトリ選択ダイアログ

### 問題点
- 「Open Folder」メニューアクションが未実装
- ネットワークパスの明示的なサポートが不足
- UNCパスの直接入力機能がない

## 実装ステップ

### 1. Open Folderメニューアクションの実装
- `useMenu.ts`に`onOpenFolder`ハンドラーを追加
- `App.tsx`でOpen Folderアクションをハンドル
- `ExplorePanel.tsx`で選択されたフォルダを設定

### 2. ネットワークフォルダ対応の強化
- `ipc.ts`の`select-directory`ハンドラーを拡張してネットワークパスをサポート
- UNCパス（\\\\server\\share）の入力ダイアログを追加
- パスの検証とエラーハンドリングを追加

### 3. UIの改善
- Explore Panelにフォルダ選択ボタンを追加
- ネットワークパス入力用のテキストフィールドオプション
- 現在のパス表示とナビゲーション機能

### 4. エラーハンドリング
- ネットワークフォルダへのアクセス権限エラー
- ネットワーク接続エラー
- タイムアウト処理

## 技術的な詳細

### サポートするパス形式
- Windows UNCパス: `\\\\server\\share\\folder`
- マップドドライブ: `Z:\\folder`
- ローカルパス: `C:\\Users\\Documents\\Pictures`

### 実装上の考慮点
- Node.jsのfsモジュールは既にネットワークパスに対応
- Electronのdialog.showOpenDialogもネットワークフォルダを選択可能
- 大規模なネットワークフォルダの場合、遅延読み込みやページネーションが必要

### セキュリティ考慮事項
- ネットワーク資格情報の取り扱い
- アクセス権限の確認
- セキュアでないネットワーク接続への警告

## 期待される成果
この実装により、ローカルフォルダとネットワークフォルダの両方を同じインターフェースで扱えるようになり、企業環境やNAS環境でも使いやすいアプリケーションになります。